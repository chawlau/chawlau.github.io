<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  eredin-blog
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="eredin-blog" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site: ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="https://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; eredin-blog</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
        
        <li><a target="self" href="index.html">Home</a></li>
        
        <li><a target="_self" href="archives.html">Archives</a></li>
        

    <li><label>Categories</label></li>

        
            <li><a href="Prometheus.html">Prometheus</a></li>
        
            <li><a href="RocketMQ.html">RocketMQ</a></li>
        
            <li><a href="%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE.html">网络协议</a></li>
        
            <li><a href="Golang.html">Golang</a></li>
        
            <li><a href="Django.html">Django</a></li>
        
            <li><a href="C++%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AE%9E%E6%88%98.html">C++设计模式实战</a></li>
        
            <li><a href="%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90Kubernetes.html">深入剖析Kubernetes</a></li>
        
            <li><a href="%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95.html">数据结构和算法</a></li>
        
            <li><a href="%E5%BE%AE%E6%9C%8D%E5%8A%A1.html">微服务</a></li>
        
            <li><a href="%E6%9E%B6%E6%9E%84.html">架构</a></li>
        
            <li><a href="%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86.html">操作系统原理</a></li>
        
            <li><a href="Mysql%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98.html">Mysql优化实战</a></li>
        
            <li><a href="Kafka.html">Kafka</a></li>
        
            <li><a href="linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A0%94%E5%8F%91.html">linux服务器研发</a></li>
        
            <li><a href="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86.html">计算机组成原理</a></li>
        
            <li><a href="%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E8%87%AA%E6%88%91%E4%BF%AE%E5%85%BB.html">程序员的自我修养</a></li>
        
            <li><a href="C%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6.html">C语言进阶</a></li>
        
            <li><a href="http_study.html">http_study</a></li>
        
            <li><a href="%E7%8E%A9%E8%BD%AC%E7%AE%97%E6%B3%95.html">玩转算法</a></li>
        
            <li><a href="C++%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B.html">C++对象模型</a></li>
        
            <li><a href="SQL%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A.html">SQL必知必会</a></li>
        
            <li><a href="Zookeeper.html">Zookeeper</a></li>
        
            <li><a href="Redis%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A.html">Redis从入门到精通</a></li>
        
            <li><a href="%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95%E8%BF%9B%E9%98%B6.html">数据结构和算法进阶</a></li>
        
            <li><a href="Mysql%E6%80%A7%E8%83%BD%E7%AE%A1%E7%90%86%E5%92%8C%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.html">Mysql性能管理和架构设计</a></li>
        
            <li><a href="%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98.html">网络编程实战</a></li>
        
            <li><a href="Redis%E9%AB%98%E5%B9%B6%E5%8F%91%E7%BC%93%E5%AD%98.html">Redis高并发缓存</a></li>
        
            <li><a href="C++%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%8F%90%E9%AB%98.html">C++基础与提高</a></li>
        
            <li><a href="%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%BE%8E.html">设计模式之美</a></li>
        
            <li><a href="Python.html">Python</a></li>
        
            <li><a href="%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html">设计模式</a></li>
        
            <li><a href="Linux%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98.html">Linux性能优化实战</a></li>
        
            <li><a href="%E5%80%99%E6%8D%B7STL.html">候捷STL</a></li>
        
            <li><a href="%E6%80%A7%E8%83%BD%E5%B7%A5%E7%A8%8B%E9%AB%98%E6%89%8B%E8%AF%BE.html">性能工程高手课</a></li>
        
            <li><a href="%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95.html">性能测试</a></li>
        
            <li><a href="ElasticSearch.html">ElasticSearch</a></li>
        
            <li><a href="RabbitMQ.html">RabbitMQ</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
	$(function(){
		$('#menu_item_index').addClass('is_active');
	});
</script>
<div class="row">
	<div class="large-8 medium-8 columns">
		<div class="markdown-body home-categories">
		
			<div class="article">
                <a class="clearlink" href="15640196833122.html">
                
                  <h1>堆的应用</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h4>合并有序小文件</h4>

<h4>高性能定时器</h4>

<ul>
<li>任务设定的执行时间，将这些任务存储在优先级队列中，队列首部（也就是小顶堆的堆顶）存储的是最先执行的任务。</li>
<li>它拿队首任务的执行时间点，与当前时间点相减，得到一个时间间隔 T。这个时间间隔 T 就是，从当前时间开始，需要等待多久，才会有第一个任务需要被执行。</li>
</ul>

<h4>求TOPK</h4>

<ul>
<li>我们可以维护一个大小为 K 的小顶堆，顺序遍历数组，从数组中取出数据与堆顶元素比较。如果比堆顶元素大，我们就把堆顶元素删除，并且将这个元素插入到堆中；如果比堆顶元素小，则不做处理，继续遍历数组。这样等数组中的数据都遍历完之后，堆中的数据就是前 K 大数据了</li>
</ul>

<h4>求中位数</h4>

<ul>
<li>维护两个堆，一个大顶堆，一个小顶堆。大顶堆中存储前半部分数据，小顶堆中存储后半部分数据，且小顶堆中的数据都大于大顶堆中的数据</li>
<li>但是求中位数我们只需要返回大顶堆的堆顶元素就可以了，所以时间复杂度就是 O(1)</li>
<li></li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2019/07/25 09:54 上午</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95.html'>数据结构和算法</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15640161462490.html">
                
                  <h1>常见命令</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h4>查看group</h4>

<ul>
<li>kafka-consumer-groups.sh --bootstrap-server master:9092 --list</li>
<li>查看LAG</li>
<li></li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2019/07/25 08:55 上午</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Kafka.html'>Kafka</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15638499426579.html">
                
                  <h1>数组问题</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<ul>
<li>排序: 选择排序 插入排序 归并排序 快速排序</li>
</ul>

<h4>题目</h4>

<ul>
<li>leetcode 283</li>
</ul>

<pre class="line-numbers"><code class="language-cpp">Given an array nums, write a function to move all 0&#39;s to the end of it while maintaining the relative order of the non-zero elements.

For example, given nums = [0, 1, 0, 3, 12], after calling your function, nums should be [1, 3, 12, 0, 0].

Note:

You must do this in-place without making a copy of the array.
Minimize the total number of operations.
class Solution {
public:
    void moveZeroes(vector&lt;int&gt;&amp; nums) {
        for (int i = 0, j = 0; i &lt; nums.size(); ++i) {
            if (nums[i]) {
                swap(nums[i], nums[j++]);
            }
        }
    }
};
</code></pre>

<ul>
<li>k [0,k) 保存所有遍历过的非0元素</li>
</ul>

<h4>code</h4>

<ul>
<li>给定一个数组nums和一个数组val，将数组中所有等于val的元素删除，返回剩余的元素个数</li>
<li>leetcode26</li>
</ul>

<pre class="line-numbers"><code class="language-cpp">Given a sorted array  nums , remove the duplicates in-place such that each element appear only  once  and return the new length.

Do not allocate extra space for another array, you must do this by modifying the input array in-place with O(1) extra memory.

Example 1:

Given _nums_ = [1,1,2],

Your function should return length = 2, with the first two elements of _nums_ being 1 and 2 respectively.

It doesn&#39;t matter what you leave beyond the returned length.
class Solution {
public:
    int removeDuplicates(vector&lt;int&gt;&amp; nums) {
        int j = 0, n = nums.size();
        for (int i = 0; i &lt; n; ++i) {
            if (nums[i] != nums[j]) nums[++j] = nums[i];
        }
        return nums.empty() ? 0 : (j + 1);
    }
};
</code></pre>

<ul>
<li>leetcode27</li>
</ul>

<pre class="line-numbers"><code class="language-cpp">Given an array  nums  and a value  val , remove all instances of that value in-place and return the new length.

Do not allocate extra space for another array, you must do this by modifying the input array in-place with O(1) extra memory.

The order of elements can be changed. It doesn&#39;t matter what you leave beyond the new length.

Example 1:

Given _nums_ = [3,2,2,3], _val_ = 3,

Your function should return length = 2, with the first two elements of _nums_ being 2.

It doesn&#39;t matter what you leave beyond the returned length.
class Solution {
public:
    int removeElement(vector&lt;int&gt;&amp; nums, int val) {
        int res = 0;
        for (int i = 0; i &lt; nums.size(); ++i) {
            if (nums[i] != val) nums[res++] = nums[i];
        }
        return res;
    }
};
</code></pre>

<ul>
<li>leetcode80</li>
</ul>

<pre class="line-numbers"><code class="language-cpp">Given a sorted array  nums , remove the duplicates in-place such that duplicates appeared at most  twice  and return the new length.

Do not allocate extra space for another array, you must do this by modifying the input array in-place with O(1) extra memory.

Example 1:

Given _nums_ = [1,1,1,2,2,3],

Your function should return length = 5, with the first five elements of _nums_ being 1, 1, 2, 2 and 3 respectively.

It doesn&#39;t matter what you leave beyond the returned length.
class Solution {
public:
    int removeDuplicates(vector&lt;int&gt;&amp; nums) {
        int pre = 0, cur = 1, cnt = 1, n = nums.size();
        while (cur &lt; n) {
            if (nums[pre] == nums[cur] &amp;&amp; cnt == 0) ++cur;
            else {
                if (nums[pre] == nums[cur]) --cnt;
                else cnt = 1;
                nums[++pre] = nums[cur++];
            }
        }
        return nums.empty() ? 0 : pre + 1;
    }
};
class Solution {
public:
    int removeDuplicates(vector&lt;int&gt;&amp; nums) {
        int i = 0;
        for (int num : nums) {
            if (i &lt; 2 || num &gt; nums[i - 2]) {
                nums[i++] = num;
            }
        }
        return i;
    }
};
</code></pre>

<h4>Sort Colors</h4>

<ul>
<li>leet_code75</li>
</ul>

<pre class="line-numbers"><code class="language-cpp">Given an array with  n  objects colored red, white or blue, sort them in-place so that objects of the same color are adjacent, with the colors in the order red, white and blue.

Here, we will use the integers 0, 1, and 2 to represent the color red, white, and blue respectively.

Note: You are not suppose to use the library&#39;s sort function for this problem.

Example:

Input: [2,0,2,1,1,0]
Output: [0,0,1,1,2,2]
class Solution {
public:
    void sortColors(vector&lt;int&gt;&amp; nums) {
        int red = 0, blue = (int)nums.size() - 1;
        for (int i = 0; i &lt;= blue; ++i) {
            if (nums[i] == 0) {
                swap(nums[i], nums[red++]);
            } else if (nums[i] == 2) {
                swap(nums[i--], nums[blue--]);
            } 
        }
    }
};
</code></pre>

<ul>
<li>leet_code88</li>
</ul>

<pre class="line-numbers"><code class="language-cpp">Given two sorted integer arrays  nums1  and  nums2 , merge  nums2  into  nums1  as one sorted array.

Note:

The number of elements initialized in  nums1 and  nums2  are  m  and  n  respectively.
You may assume that  nums1  has enough space (size that is greater or equal to  m  +  n ) to hold additional elements from  nums2.
Example:

Input:
nums1 = [1,2,3,0,0,0], m = 3
nums2 = [2,5,6],       n = 3

Output: [1,2,2,3,5,6]
class Solution {
public:
    void merge(vector&lt;int&gt;&amp; nums1, int m, vector&lt;int&gt;&amp; nums2, int n) {
        int i = m - 1, j = n - 1, k = m + n - 1;
        while (i &gt;= 0 &amp;&amp; j &gt;= 0) {
            if (nums1[i] &gt; nums2[j]) nums1[k--] = nums1[i--];
            else nums1[k--] = nums2[j--];
        }
        while (j &gt;= 0) nums1[k--] = nums2[j--];
    }
};
</code></pre>

<ul>
<li>leet_code215</li>
</ul>

<pre class="line-numbers"><code class="language-cpp">Find the kth largest element in an unsorted array. Note that it is the kth largest element in the sorted order, not the kth distinct element.

Example 1:

Input: [3,2,1,5,6,4] and k = 2
Output: 5
class Solution {
public:
  int findKthLargest(vector&lt;int&gt;&amp; nums, int k) {
    int left = 0, right = nums.size() - 1;
    k = nums.size() - k;
    while (left &lt;= right) {
      int pos = partition(nums, left, right);
      if (pos == k) return nums[pos];
      else if (pos &gt; k) right = pos - 1;
      else left = pos + 1;
    }
    return -1;
  }

  int partition(vector&lt;int&gt;&amp; nums, int left, int right) {
    int val = nums[left], j = left;
    for (int i = left + 1; i &lt;= right; i++) {
      if (nums[i] &lt; val)  swap(nums[++j], nums[i]);
    }
    swap(nums[j], nums[left]);
    return j;
  }
};
</code></pre>

<h4>two_sum</h4>

<ul>
<li>leet_125</li>
</ul>

<pre class="line-numbers"><code class="language-cpp">Given a string, determine if it is a palindrome, considering only alphanumeric characters and ignoring cases.

For example,
&quot;A man, a plan, a canal: Panama&quot; is a palindrome.
&quot;race a car&quot; is not a palindrome
//判断大小写等价if ((s[left] + 32 - &#39;a&#39;) %32 != (s[right] + 32 - &#39;a&#39;) % 32)
class Solution {
public:
    bool isPalindrome(string s) {
        int left = 0, right = s.size() - 1 ;
        while (left &lt; right) {
            if (!isAlphaNum(s[left])) ++left;
            else if (!isAlphaNum(s[right])) --right;
            else if ((s[left] + 32 - &#39;a&#39;) %32 != (s[right] + 32 - &#39;a&#39;) % 32) return false; 
            else {
                ++left; --right;
            }
        }
        return true;
    }
    bool isAlphaNum(char &amp;ch) {
        if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) return true;
        if (ch &gt;= &#39;A&#39; &amp;&amp; ch &lt;= &#39;Z&#39;) return true;
        if (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) return true;
        return false;
    }
};
</code></pre>

<ul>
<li>leet_344</li>
</ul>

<pre class="line-numbers"><code class="language-cpp">字符串反转
class Solution {
public:
    void reverseString(vector&lt;char&gt;&amp; s) {
      int left = 0, right = s.size() - 1;
      while (left &lt; right) {
        swap(s[left++], s[right--]);
      }
    }
};
</code></pre>

<ul>
<li>leet_345</li>
</ul>

<pre class="line-numbers"><code class="language-cpp">Write a function that takes a string as input and reverse only the vowels of a string.

Example 1:
Given s = &quot;hello&quot;, return &quot;holle&quot;.

Example 2:
Given s = &quot;leetcode&quot;, return &quot;leotcede&quot;.
class Solution {
public:
    string reverseVowels(string s) {
        int left = 0, right= s.size() - 1;
        while (left &lt; right) {
            if (isVowel(s[left]) &amp;&amp; isVowel(s[right])) {
                swap(s[left++], s[right--]);
            } else if (isVowel(s[left])) {
                --right;
            } else {
                ++left;
            }
        }
        return s;
    }
    bool isVowel(char c) {
        return c == &#39;a&#39; || c == &#39;e&#39; || c == &#39;i&#39; || c == &#39;o&#39; || c == &#39;u&#39; || c == &#39;A&#39; || c == &#39;E&#39; || c == &#39;I&#39; || c == &#39;O&#39; || c == &#39;U&#39;;
    }
};
</code></pre>

<ul>
<li>leet_11</li>
</ul>

<pre class="line-numbers"><code class="language-cpp">Given n non-negative integers a1, a2, ..., an , where each represents a point at coordinate (i, ai). n vertical lines are drawn such that the two endpoints of line i is at (i, ai) and (i, 0). Find two lines, which together with x-axis forms a container, such that the container contains the most water.
class Solution {
public:
    int maxArea(vector&lt;int&gt;&amp; height) {
      int i = 0, j = height.size() - 1;
      int res = 0;
      while (i &lt; j) {
        res = max(res, min(height[i], height[j]) * (j - i));
        height[i] &lt; height[j] ? i++ : j--;
      }
      return res;
    }
};
</code></pre>

<h4>双索引技术</h4>

<ul>
<li>滑动窗口</li>
<li>leet_209 暴力解法优化到O(n2) //TODO</li>
</ul>

<pre class="line-numbers"><code class="language-cpp">Given an array of n positive integers and a positive integer s, find the minimal length of a contiguous subarray of which the sum ≥ s. If there isn&#39;t one, return 0 instead.

Example: 

Input: s = 7, nums = [2,3,1,2,4,3]
Output: 2
Explanation: the subarray [4,3] has the minimal length under the problem constraint.
class Solution {
  public:
  int minSubArrayLen(int s, vector&lt;int&gt;&amp; nums) {
    int l = 0, r = -1, sum = 0;

    int  res = nums.size() + 1; //有可能是整个数组之和等于s

    while (l &lt; nums.size()) {
      if (r + 1 &lt; nums.size() &amp;&amp; sum &lt; s)
        sum += nums[++r];
      else
        sum -= nums[l++];

      if (sum &gt;= s)
        res = min(res, r -l +1);
    }

    if (res == nums.size() + 1)
      return 0;

    return res;
  }
};
</code></pre>

<ul>
<li>leet_3 字符集？ 只有字母?  字母 + 数字 ? ASCII 大小写是否敏感</li>
<li>leet_438 字符集范围 英文小写字母 返回的解的顺序</li>
<li>leet_76 字符范围 没有解 多个解 </li>
<li>字符包含 Input: S = &quot;ADOBECODEBANC&quot;, T = &quot;ABC&quot; Output: &quot;BANC&quot;</li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2019/07/23 10:45 上午</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E7%8E%A9%E8%BD%AC%E7%AE%97%E6%B3%95.html'>玩转算法</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15638490173383.html">
                
                  <h1>算法思路</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h4>题目中的条件</h4>

<ul>
<li>设计O(nlogn)的算法 百万级和千万级</li>
<li>无需考虑额外的空间</li>
<li>数据规模大概是10000</li>
</ul>

<h4>没有思路</h4>

<ul>
<li>给几个简单的测试用例</li>
<li>不要忽视暴力解法，暴力解法通常是思考的起点</li>
<li>lecode3</li>
<li>遍历常见的算法思路</li>
<li>遍历常见的数据结构</li>
<li>空间和时间的交换(哈希表)</li>
<li>预处理信息</li>
</ul>

<h4>极端条件</h4>

<ul>
<li>数组为空</li>
<li>字符串为空</li>
<li>数量为0</li>
<li>指针为NULL</li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2019/07/23 10:30 上午</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E7%8E%A9%E8%BD%AC%E7%AE%97%E6%B3%95.html'>玩转算法</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15638416239371.html">
                
                  <h1>项目经历</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h4>梳理</h4>

<ul>
<li>项目经历和项目中遇到的实际问题</li>
<li>遇到的印象最深的bug是什么</li>
<li>面向对象</li>
<li>设计模式</li>
<li>网络相关，安全相关，内存相关，并发相关</li>
<li>系统设计 scalability</li>
<li>参与项目至关重要</li>
</ul>

<h4>如何找到项目</h4>

<ul>
<li>自己做小应用: 计划表，备忘录，播放器</li>
<li>自己解决问题： 爬虫, 数据分析，词频统计</li>
<li>一本技术书籍的代码管理</li>
<li>技术博客</li>
</ul>

<h4>思考方式</h4>

<ul>
<li>遇到的最大的挑战？犯过的错误？遭遇的失败？最享受的工作内容？遇到冲突的处理方式？做的最与众不同的事儿？</li>
<li></li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2019/07/23 08:27 上午</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E7%8E%A9%E8%BD%AC%E7%AE%97%E6%B3%95.html'>玩转算法</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15638402863944.html">
                
                  <h1>算法面试本质</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h4>本质</h4>

<ul>
<li>不代表能够“正确”回答每一个算法问题，但是合理的思考方向其实更重要</li>
<li>正确完成算法面试问题的前提算法面试优秀不意味着技术面试优秀</li>
<li>技术面试优秀不意味着能够拿到Offer</li>
</ul>

<h4>给出合理的思考路径</h4>

<ul>
<li>展示出思考问题的方式</li>
<li>和面试官一起探讨一个问题的解决方案</li>
<li>问题的细节和应用环境</li>
<li>沟通本身很重要，暗示思考问题的方式</li>
</ul>

<h4>对一组数据进行排序</h4>

<ul>
<li>这组数据的具体的特征
<ul>
<li>是否包含大量重复的元素</li>
<li>三路快排是更好的选择</li>
</ul></li>
<li>是否大部分数据距离离他正确的位置很近？是否近乎排序
<ul>
<li>插入排序</li>
</ul></li>
<li>取值范围非常有限，比如对学生成绩排序
<ul>
<li>计数排序</li>
</ul></li>
<li>额外排序
<ul>
<li>稳定排序</li>
<li>归并排序</li>
</ul></li>
<li>数据的存储状况是怎样的
<ul>
<li>链标存储</li>
<li>是否可以装载在内存中</li>
</ul></li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2019/07/23 08:04 上午</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E7%8E%A9%E8%BD%AC%E7%AE%97%E6%B3%95.html'>玩转算法</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15637866905737.html">
                
                  <h1>内存池</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h4>考虑方面</h4>

<ul>
<li>减少内存碎片</li>
<li>提高效率</li>
<li>避免内存泄漏</li>
</ul>

<h4>内存池考虑</h4>

<ul>
<li>线程安全</li>
<li>尺寸固定</li>
</ul>

<h4>kfifo的内存池</h4>

<ul>
<li>ringbuffer_from_dev</li>
</ul>

<h4>应用层协议</h4>

<ul>
<li>TLV</li>
</ul>

<h4>boost pool</h4>

<ul>
<li>pfirst管理空闲内存，使用内存踢出去</li>
<li>重栽运算符</li>
</ul>

<h4>zmq的内存池</h4>

<ul>
<li> 传输层和应用层更简单的接口</li>
<li> 尽量少的申请内存，尽量使用即将释放的内存</li>
<li> 一个读线程，一个写线程，读写之间使用无锁解决互斥</li>
<li> 批量写入，预取机制，提高效率</li>
</ul>

<h4>chunk_t</h4>

<ul>
<li>begin_chunk 读取的块 begin_pos 读取的位置</li>
<li>back_chunk 写入的块 back_pos 写入的位置</li>
<li>end_chunk 指向新申请的内存块 </li>
<li>push()只是申请了空间</li>
<li>chunk_t *sc = spare_chunk.xchg (NULL); 拿取一个值，然后用NULL去填充</li>
<li>back()是存储了数据</li>
<li>begin_pos 正在读取的位置 begin_pos = N 时说明已经全部释放了，所以直接使用物理释放</li>
<li>back_pos 写的位置</li>
</ul>

<pre class="line-numbers"><code class="language-text">inline void pop ()
    {
        if (++_begin_pos == N) {
            chunk_t *o = _begin_chunk;
            _begin_chunk = _begin_chunk-&gt;next;
            _begin_chunk-&gt;prev = NULL;
            _begin_pos = 0;

            //将内存块和空闲内存块进行置换，同时将置换出来的内存块释放掉
            chunk_t *cs = _spare_chunk.xchg (o);
            free (cs);
        }
    }

</code></pre>

<h4>ypipe_t</h4>

<h5>flush</h5>

<pre class="line-numbers"><code class="language-text">  inline bool flush ()
  {
    //  If there are no un-flushed items, do nothing.
    if (_w == _f)
      return true;

    //  Try to set &#39;c&#39; to &#39;f&#39;.
    if (_c.cas (_w, _f) != _w) {
      //  Compare-and-swap was unseccessful because &#39;c&#39; is NULL.
      //  This means that the reader is asleep. Therefore we don&#39;t
      //  care about thread-safeness and update c in non-atomic
      //  manner. We&#39;ll return false to let the caller know
      //  that reader is sleeping.
      _c.set (_f);
      _w = _f;
      return false;
    }

    //  Reader is alive. Nothing special to do now. Just move
    //  the &#39;first un-flushed item&#39; pointer to &#39;f&#39;.
    _w = _f;
    return true;
  }
   inline void write (const T &amp;value_, bool incomplete_)
        {
            //  Place the value to the queue, add new terminator element.
            queue.back () = value_;
            queue.push ();

            //  Move the &quot;flush up to here&quot; poiter.
            if (!incomplete_)
                f = &amp;queue.back ();
        }
</code></pre>

<p><img src="media/15637866905737/15640480390126.jpg" alt=""/><br/>
<img src="media/15637866905737/15640480483880.jpg" alt=""/></p>

<h5>read</h5>

<pre class="line-numbers"><code class="language-text">r指针没有指向begin_pos说明已经预读好了
 inline bool read (T *value_)
    {
        //  Try to prefetch a value.
        if (!check_read ())
            return false;

        //  There was at least one value prefetched.
        //  Return it to the caller.
        *value_ = _queue.front ();
        _queue.pop ();
        return true;
    }
    
    inline bool check_read ()
    {
      //  Was the value prefetched already? If so, return.
      if (&amp;_queue.front () != _r &amp;&amp; _r)
        return true;

      _r = _c.cas (&amp;_queue.front (), NULL);
      //_c=NULL, _r-&gt;_c的位置

      //  If there are no elements prefetched, exit.
      //  During pipe&#39;s lifetime r should never be NULL, however,
      //  it can happen during pipe shutdown when items
      //  are being deallocated.
      if (&amp;_queue.front () == _r || !_r)
        return false;

      //  There was at least one value prefetched.
      return true;
    }
</code></pre>

<p><img src="media/15637866905737/15640481057426.jpg" alt=""/><br/>
<img src="media/15637866905737/15640481129653.jpg" alt=""/></p>

<ul>
<li>f刷新指针</li>
<li></li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2019/07/22 17:11 下午</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A0%94%E5%8F%91.html'>linux服务器研发</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15637648287186.html">
                
                  <h1>堆排序</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h4>建立堆</h4>

<ul>
<li>后往前处理数组，并且每个数据都是从上往下堆化，非叶子结点每个元素都安置到应有的位置</li>
<li>节点下标是i, 左子节点的下标是2<em>i+1,右子节点的下标是2</em>i+2, 父节点的下标就是(i-1)/2;<br/>
#### 堆化</li>
<li>下标从n/2到1的数据进行堆化，下表是n/2+1到n的节点是叶子结点，不需要堆化</li>
</ul>

<h4>堆排序和快速排序对比</h4>

<ul>
<li>第一点，堆排序数据访问的方式没有快速排序友好。</li>
<li>第二点，对于同样的数据，在排序过程中，堆排序算法的数据交换次数要多于快速排序。</li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2019/07/22 11:07 上午</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95.html'>数据结构和算法</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15637624256812.html">
                
                  <h1>递归树</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	
                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2019/07/22 10:27 上午</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95.html'>数据结构和算法</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15637018763027.html">
                
                  <h1>kafka无消息丢失配置</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h4>可靠性</h4>

<ul>
<li>Kafka 只对“已提交”的消息（committed message）做有限度的持久化保证</li>
</ul>

<h4>生产者</h4>

<ul>
<li>Producer 永远要使用带有回调通知的发送 API，也就是说不要使用 producer.send(msg)，而要使用 producer.send(msg, callback)</li>
</ul>

<h4>消费者</h4>

<ul>
<li>如果是多线程异步处理消费消息，Consumer 程序不要开启自动提交位移，而是要应用程序手动提交位移，需要消费未消费Consumer 程序自动地向前更新位移</li>
</ul>

<h4>配置</h4>

<ul>
<li>不要使用 producer.send(msg)，而要使用 producer.send(msg, callback)。记住，一定要使用带有回调通知的 send 方法。</li>
<li>设置 acks = all。acks 是 Producer 的一个参数，代表了你对“已提交”消息的定义。如果设置成 all，则表明所有副本 Broker 都要接收到消息，该消息才算是“已提交”。这是最高等级的“已提交”定义。</li>
<li>设置 retries 为一个较大的值。这里的 retries 同样是 Producer 的参数，对应前面提到的 Producer 自动重试。当出现网络的瞬时抖动时，消息发送可能会失败，此时配置了 retries &gt; 0 的 Producer 能够自动重试消息发送，避免消息丢失。</li>
<li>设置 unclean.leader.election.enable = false。这是 Broker 端的参数，它控制的是哪些 Broker 有资格竞选分区的 Leader。如果一个 Broker 落后原先的 Leader 太多，那么它一旦成为新的 Leader，必然会造成消息的丢失。故一般都要将该参数设置成 false，即不允许这种情况的发生。</li>
<li>设置 replication.factor &gt;= 3。这也是 Broker 端的参数。其实这里想表述的是，最好将消息多保存几份，毕竟目前防止消息丢失的主要机制就是冗余。</li>
<li>设置 min.insync.replicas &gt; 1。这依然是 Broker 端参数，控制的是消息至少要被写入到多少个副本才算是提交”。设置成大于 1 可以提升消息持久性。在实际环境中千万不要使用默认值 1。</li>
<li>确保 replication.factor &gt; min.insync.replicas。如果两者相等，那么只要有一个副本挂机，整个分区就无法正常工作了。我们不仅要改善消息的持久性，防止数据丢失，还要在不降低可用性的基础上完成。推荐设置成 replication.factor = min.insync.replicas + 1。</li>
<li>确保消息消费完成再提交。Consumer 端有个参数 enable.auto.commit，最好把它设置成 false，并采用手动提交位移的方式。就像前面说的，这对于单 Consumer 多线程处理的场景而言是至关重要的。</li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2019/07/21 17:37 下午</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Kafka.html'>Kafka</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
              


			<div class="row">
			  <div class="large-6 columns">
			  <p class="text-left" style="padding-top:25px;">
			   <a href="all_31.html">&laquo; Prev Page</a>  
			  </p>
			  </div>
			  <div class="large-6 columns">
			<p class="text-right" style="padding-top:25px;">
			 <a href="all_33.html">&raquo; Next Page</a> 
			</p>
			  </div>
			</div>
		</div>
	</div><!-- large 8 -->

 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <h1>eredin-blog</h1>
                <div class="site-des">生命的意义是成为你自己！</div>
                <div class="social">











  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="Prometheus.html"><strong>Prometheus</strong></a>
        
            <a href="RocketMQ.html"><strong>RocketMQ</strong></a>
        
            <a href="%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE.html"><strong>网络协议</strong></a>
        
            <a href="Golang.html"><strong>Golang</strong></a>
        
            <a href="Django.html"><strong>Django</strong></a>
        
            <a href="C++%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AE%9E%E6%88%98.html"><strong>C++设计模式实战</strong></a>
        
            <a href="%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90Kubernetes.html"><strong>深入剖析Kubernetes</strong></a>
        
            <a href="%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95.html"><strong>数据结构和算法</strong></a>
        
            <a href="%E5%BE%AE%E6%9C%8D%E5%8A%A1.html"><strong>微服务</strong></a>
        
            <a href="%E6%9E%B6%E6%9E%84.html"><strong>架构</strong></a>
        
            <a href="%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86.html"><strong>操作系统原理</strong></a>
        
            <a href="Mysql%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98.html"><strong>Mysql优化实战</strong></a>
        
            <a href="Kafka.html"><strong>Kafka</strong></a>
        
            <a href="linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A0%94%E5%8F%91.html"><strong>linux服务器研发</strong></a>
        
            <a href="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86.html"><strong>计算机组成原理</strong></a>
        
            <a href="%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E8%87%AA%E6%88%91%E4%BF%AE%E5%85%BB.html"><strong>程序员的自我修养</strong></a>
        
            <a href="C%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6.html"><strong>C语言进阶</strong></a>
        
            <a href="http_study.html"><strong>http_study</strong></a>
        
            <a href="%E7%8E%A9%E8%BD%AC%E7%AE%97%E6%B3%95.html"><strong>玩转算法</strong></a>
        
            <a href="C++%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B.html"><strong>C++对象模型</strong></a>
        
            <a href="SQL%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A.html"><strong>SQL必知必会</strong></a>
        
            <a href="Zookeeper.html"><strong>Zookeeper</strong></a>
        
            <a href="Redis%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A.html"><strong>Redis从入门到精通</strong></a>
        
            <a href="%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95%E8%BF%9B%E9%98%B6.html"><strong>数据结构和算法进阶</strong></a>
        
            <a href="Mysql%E6%80%A7%E8%83%BD%E7%AE%A1%E7%90%86%E5%92%8C%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.html"><strong>Mysql性能管理和架构设计</strong></a>
        
            <a href="%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98.html"><strong>网络编程实战</strong></a>
        
            <a href="Redis%E9%AB%98%E5%B9%B6%E5%8F%91%E7%BC%93%E5%AD%98.html"><strong>Redis高并发缓存</strong></a>
        
            <a href="C++%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%8F%90%E9%AB%98.html"><strong>C++基础与提高</strong></a>
        
            <a href="%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%BE%8E.html"><strong>设计模式之美</strong></a>
        
            <a href="Python.html"><strong>Python</strong></a>
        
            <a href="%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html"><strong>设计模式</strong></a>
        
            <a href="Linux%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98.html"><strong>Linux性能优化实战</strong></a>
        
            <a href="%E5%80%99%E6%8D%B7STL.html"><strong>候捷STL</strong></a>
        
            <a href="%E6%80%A7%E8%83%BD%E5%B7%A5%E7%A8%8B%E9%AB%98%E6%89%8B%E8%AF%BE.html"><strong>性能工程高手课</strong></a>
        
            <a href="%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95.html"><strong>性能测试</strong></a>
        
            <a href="ElasticSearch.html"><strong>ElasticSearch</strong></a>
        
            <a href="RabbitMQ.html"><strong>RabbitMQ</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15817610843879.html">编译期</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15814649492497.html">Simple Factory</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15814189410719.html">代码的可测试性</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15814188057978.html">重构</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15813811739408.html">tuple 使用</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>


  </body>
</html>
